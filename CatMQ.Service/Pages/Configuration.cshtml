@page
@using NTDLS.Helpers
@model ConfigurationModel
@{
    ViewData["Title"] = "Configuration";
}

@if (Model.ErrorMessage != null)
{
    <div>
        <p>@Model.ErrorMessage</p>
    </div>
}
else
{
    <div>
        <div class="container mt-4">
            <form>
                <div class="mb-3">
                    <label for="asynchronousQueryWaiting" class="form-label">Asynchronous Query Waiting</label>
                    <select id="asynchronousQueryWaiting" class="form-select">
                        <option value="true">True</option>
                        <option value="false">False</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="queryTimeout" class="form-label">Query Timeout (ms)</label>
                    <input type="number" id="queryTimeout" class="form-control" value="@Model.ServerConfig.QueryTimeout.TotalMilliseconds" min="1">
                </div>
                <div class="mb-3">
                    <label for="initialReceiveBufferSize" class="form-label">Initial Receive Buffer Size (bytes)</label>
                    <input type="number" id="initialReceiveBufferSize" class="form-control" value="@Model.ServerConfig.InitialReceiveBufferSize" min="1024">
                </div>
                <div class="mb-3">
                    <label for="maxReceiveBufferSize" class="form-label">Max Receive Buffer Size (bytes)</label>
                    <input type="number" id="maxReceiveBufferSize" class="form-control" value="@Model.ServerConfig.MaxReceiveBufferSize" min="1024">
                </div>
                <div class="mb-3">
                    <label for="receiveBufferGrowthRate" class="form-label">Receive Buffer Growth Rate (decimal %)</label>
                    <input type="number" id="receiveBufferGrowthRate" class="form-control" value="@Model.ServerConfig.ReceiveBufferGrowthRate" step="0.1" min="0.1">
                </div>
                <div class="mb-3">
                    <label for="listenPort" class="form-label">Listen Port</label>
                    <input type="number" id="listenPort" class="form-control" value="@Model.ServerConfig.ListenPort" min="1" max="65535">
                </div>
                <div class="mb-3">
                    <label for="persistencePath" class="form-label">Persistence Path</label>
                    <input type="text" id="persistencePath" class="form-control" placeholder="Enter file path" value="@Model.ServerConfig.PersistencePath">
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>

    </div>
}
